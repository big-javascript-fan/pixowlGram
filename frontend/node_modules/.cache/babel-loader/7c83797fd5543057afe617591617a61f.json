{"remainingRequest":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/babel-loader/lib/index.js!/Volumes/Work/Work/pixowlGram/frontend/node_modules/vuetify-loader/lib/loader.js!/Volumes/Work/Work/pixowlGram/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Work/Work/pixowlGram/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Work/Work/pixowlGram/frontend/src/components/NewPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Work/Work/pixowlGram/frontend/src/components/NewPost.vue","mtime":1554494680000},{"path":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Work/Work/pixowlGram/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Volumes/Work/Work/pixowlGram/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport PictureInput from 'vue-picture-input';\n\nfunction upload(url, file, description) {\n  var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'avatar';\n\n  if (typeof url !== 'string') {\n    throw new TypeError(\"Expected a string, got \".concat(_typeof(url)));\n  }\n\n  var formData = new FormData();\n  formData.append(name, file);\n  formData.append('description', description);\n  var config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  return axios.post(url, formData, config);\n}\n\nexport default {\n  name: 'NewPost',\n  data: {\n    image: '',\n    description: ''\n  },\n  components: {\n    PictureInput: PictureInput\n  },\n  methods: {\n    onChanged: function onChanged() {\n      console.log(\"New picture uploaded\");\n      console.log(this.description);\n\n      if (this.$refs.pictureInput.file) {\n        this.image = this.$refs.pictureInput.file;\n      } else {\n        console.log(\"Old browser, No suppport for Filereader API\");\n      }\n    },\n    onRemoved: function onRemoved() {\n      this.image = '';\n    },\n    attemptUpload: function attemptUpload() {\n      var _this = this;\n\n      if (this.image) {\n        upload('http://localhost:3000/uploads', this.image, this.description).then(function (response) {\n          if (response.data.success) {\n            _this.image = '';\n            console.log(\"Image uploaded successfully\");\n          }\n        }).catch(function (err) {\n          console.error(err);\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["NewPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,YAAA,MAAA,mBAAA;;AAEA,SAAA,MAAA,CAAA,GAAA,EAAA,IAAA,EAAA,WAAA,EAAA;AAAA,MAAA,IAAA,uEAAA,QAAA;;AACA,MAAA,OAAA,GAAA,KAAA,QAAA,EAAA;AACA,UAAA,IAAA,SAAA,0CAAA,GAAA,GAAA;AACA;;AAEA,MAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,EAAA,QAAA,CAAA,MAAA,CAAA,IAAA,EAAA,IAAA;AACA,EAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,WAAA;AACA,MAAA,MAAA,GAAA;AACA,IAAA,OAAA,EAAA;AACA,sBAAA;AADA;AADA,GAAA;AAKA,SAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA,EAAA,MAAA,CAAA;AACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA;AACA,IAAA,KAAA,EAAA,EADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GANA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,sBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,WAAA;;AACA,UAAA,KAAA,KAAA,CAAA,YAAA,CAAA,IAAA,EAAA;AACA,aAAA,KAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,6CAAA;AACA;AACA,KATA;AAUA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,KAZA;AAaA,IAAA,aAAA,EAAA,yBAAA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,+BAAA,EAAA,KAAA,KAAA,EAAA,KAAA,WAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,6BAAA;AACA;AACA,SANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA,SATA;AAUA;AACA;AA1BA;AATA,CAAA","sourcesContent":["<template>\n    <v-container>\n        <v-layout row wrap>\n            <v-flex lg4 xs4 sm4 md3 offset-xs1 offset-lg1>\n                <picture-input\n                    ref=\"pictureInput\"\n                    @change=\"onChanged\"\n                    @remove=\"onRemoved\"\n                    :width=\"500\"\n                    :removable=\"true\"\n                    removeButtonClass=\"ui red button hidden\"\n                    :height=\"500\"\n                    accept=\"image/jpeg, image/png, image/gif\"\n                    buttonClass=\"ui button primary hidden\"\n                    :customStrings=\"{\n                        upload: '<h1>Upload it!</h1>',\n                        drag: 'Drag and drop your image here'\n                        }\">\n                </picture-input>\n            </v-flex>\n            <v-flex lg4 xs10 sm10 md4 offset-xs1 offset-lg3 align-center justify-center fill-height>\n                <div>\n                    <textarea v-model=\"description\" rows=\"10\" cols=\"50\"></textarea>\n                </div>\n                <div>\n                    <button @click=\"attemptUpload\" v-bind:class=\"{disabled: !image}\">\n                        Upload\n                    </button>\n                </div>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport PictureInput from 'vue-picture-input';\n\nfunction upload(url, file, description, name='avatar') {\n    if(typeof url !== 'string') {\n        throw new TypeError(`Expected a string, got ${typeof url}`);\n    }\n\n    const formData = new FormData();\n    formData.append(name, file);\n    formData.append('description', description);\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    };\n    return axios.post(url, formData, config);\n}\n\nexport default {\n    name: 'NewPost',\n    data: {\n        image: '',\n        description: ''\n    },\n    components: {\n        PictureInput\n    },\n    methods: {\n        onChanged: function() {\n            console.log(\"New picture uploaded\");\n            console.log(this.description);\n            if(this.$refs.pictureInput.file) {\n                this.image = this.$refs.pictureInput.file;\n            } else {\n                console.log(\"Old browser, No suppport for Filereader API\");\n            }\n        },\n        onRemoved: function() {\n            this.image = '';\n        },\n        attemptUpload: function() {\n            if(this.image) {\n                upload('http://localhost:3000/uploads', this.image, this.description)\n                    .then(response => {\n                        if(response.data.success) {\n                            this.image = '';\n                            console.log(\"Image uploaded successfully\");\n                        }\n                    })\n                    .catch(err => {\n                        console.error(err);\n                    });\n            }\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n.hidden {\n    display: none;\n}\n</style>\n"],"sourceRoot":"src/components"}]}